ma<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fluida Dashboard</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Add Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Add Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style type="text/tailwindcss">
        @layer base {
            :root {
                --background: 0 0% 100%;
                --foreground: 222.2 84% 4.9%;
                --card: 0 0% 100%;
                --card-foreground: 222.2 84% 4.9%;
                --popover: 0 0% 100%;
                --popover-foreground: 222.2 84% 4.9%;
                --primary: 221.2 83.2% 53.3%;
                --primary-foreground: 210 40% 98%;
                --secondary: 210 40% 96.1%;
                --secondary-foreground: 222.2 47.4% 11.2%;
                --muted: 210 40% 96.1%;
                --muted-foreground: 215.4 16.3% 46.9%;
                --accent: 210 40% 96.1%;
                --accent-foreground: 222.2 47.4% 11.2%;
                --destructive: 0 84.2% 60.2%;
                --destructive-foreground: 210 40% 98%;
                --border: 214.3 31.8% 91.4%;
                --input: 214.3 31.8% 91.4%;
                --ring: 221.2 83.2% 53.3%;
                --radius: 0.75rem;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        .dashboard {
            @apply min-h-screen bg-[#f8f9fa];
        }

        .top-bar {
            @apply flex justify-between items-center px-8 py-4 bg-white border-b border-gray-200;
        }

        .back-button {
            @apply flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors;
        }

        .action-buttons {
            @apply flex gap-3 items-center;
        }

        .btn {
            @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50;
        }

        .btn-deposit {
            @apply bg-white text-gray-900 border border-gray-200 hover:bg-gray-100 focus:ring-gray-300;
        }

        .btn-withdraw {
            @apply bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-900;
        }

        .btn-pay {
            @apply bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-600;
        }

        .tabs {
            @apply flex gap-8 px-8 bg-white border-b border-gray-200;
        }

        .tab {
            @apply px-1 py-4 text-sm font-medium text-gray-500 hover:text-gray-900 cursor-pointer relative transition-colors;
        }

        .tab.active {
            @apply text-gray-900;
        }

        .tab.active::after {
            @apply content-[''] absolute bottom-0 left-0 right-0 h-0.5 bg-gray-900;
        }

        .main-content {
            @apply p-8 max-w-7xl mx-auto;
        }

        .balance-card {
            @apply bg-white rounded-xl p-6 mb-8 border border-gray-200 shadow-sm;
        }

        .balance-label {
            @apply text-gray-500 text-sm mb-1;
        }

        .balance-amount {
            @apply text-4xl font-semibold text-gray-900 mb-4;
        }

        .earning-badge {
            @apply inline-flex items-center rounded-full bg-emerald-50 px-3 py-1 text-sm font-medium text-emerald-700;
        }

        .pending-amount {
            @apply text-gray-500 mt-4;
        }

        .transactions {
            @apply bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden;
        }

        .transactions-header {
            @apply flex justify-between items-center p-6 border-b border-gray-200;
        }

        .transactions-table {
            @apply w-full;
        }

        .transactions-table th {
            @apply px-6 py-4 text-left text-sm font-medium text-gray-500 bg-gray-50;
        }

        .transactions-table td {
            @apply px-6 py-4 text-sm text-gray-900 border-b border-gray-200;
        }

        .amount-positive {
            @apply text-emerald-600 font-medium;
        }

        .account-details {
            @apply fixed top-0 right-0 w-96 h-screen bg-white border-l border-gray-200 p-8 overflow-y-auto transform transition-transform duration-300 ease-in-out;
        }

        .account-details.hidden {
            @apply translate-x-full;
        }

        .toggle-details-btn {
            @apply fixed top-4 right-4 z-50 inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 bg-white border border-gray-200 text-gray-900 hover:bg-gray-100 focus:ring-gray-300;
        }

        .toggle-details-btn.panel-open {
            @apply right-[400px];
        }

        .account-details h2 {
            @apply text-xl font-semibold text-gray-900 mb-8;
        }

        .detail-group {
            @apply mb-8;
        }

        .detail-label {
            @apply text-sm text-gray-500 mb-1;
        }

        .detail-value {
            @apply text-sm font-medium text-gray-900;
        }

        .bank-address {
            @apply mt-2 text-sm text-gray-600 space-y-1;
        }

        .icon {
            @apply w-4 h-4;
        }

        .modal-overlay {
            @apply fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center;
        }

        .modal {
            @apply bg-white rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto;
        }

        .form-group {
            @apply mb-4;
        }

        .form-label {
            @apply block text-sm font-medium text-gray-700 mb-1;
        }

        .form-input {
            @apply w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500;
        }

        .form-textarea {
            @apply w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px];
        }

        .file-drop-zone {
            @apply border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-500 transition-colors cursor-pointer;
        }

        .file-drop-zone.dragging {
            @apply border-blue-500 bg-blue-50;
        }

        .account-details-modal {
            @apply fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center;
        }

        .account-details-content {
            @apply bg-white rounded-xl p-8 max-w-lg w-full mx-4;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel" data-type="module">
        // Error handling
        window.addEventListener('error', function(e) {
            console.error('Runtime error:', e);
        });

        const ActivityView = () => (
            <div className="space-y-6">
                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <div className="flex items-center justify-between mb-6">
                        <h3 className="text-lg font-semibold text-gray-900">Transaction History</h3>
                        <div className="flex gap-2">
                            <select className="px-3 py-2 border border-gray-200 rounded-lg text-sm">
                                <option>Last 30 days</option>
                                <option>Last 90 days</option>
                                <option>Last year</option>
                            </select>
                            <button className="btn btn-deposit">Export CSV</button>
                        </div>
                    </div>
                    <div className="overflow-x-auto">
                        <table className="transactions-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Mar 15, 2024</td>
                                    <td>
                                        <div className="inline-flex items-center text-emerald-600">
                                            <svg className="icon mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                                <path d="M12 5v14M19 12l-7 7-7-7"/>
                                            </svg>
                                            Deposit
                                        </div>
                                    </td>
                                    <td>ACH Transfer</td>
                                    <td className="text-emerald-600">USDC +5,000.00</td>
                                    <td><span className="px-2 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>Mar 12, 2024</td>
                                    <td>
                                        <div className="inline-flex items-center text-red-600">
                                            <svg className="icon mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                                <path d="M12 19V5M5 12l7-7 7 7"/>
                                            </svg>
                                            Withdrawal
                                        </div>
                                    </td>
                                    <td>Wire Transfer</td>
                                    <td className="text-red-600">USDC -2,500.00</td>
                                    <td><span className="px-2 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs">Completed</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <h3 className="text-lg font-semibold text-gray-900 mb-4">Analytics</h3>
                    <div className="grid grid-cols-3 gap-6">
                        <div className="p-4 border border-gray-200 rounded-lg">
                            <div className="text-sm text-gray-500 mb-1">Monthly deposits</div>
                            <div className="text-2xl font-semibold text-gray-900">USDC 12,500.00</div>
                            <div className="text-sm text-emerald-600 mt-2">↑ 12% from last month</div>
                        </div>
                        <div className="p-4 border border-gray-200 rounded-lg">
                            <div className="text-sm text-gray-500 mb-1">Monthly withdrawals</div>
                            <div className="text-2xl font-semibold text-gray-900">USDC 4,200.00</div>
                            <div className="text-sm text-red-600 mt-2">↓ 5% from last month</div>
                        </div>
                        <div className="p-4 border border-gray-200 rounded-lg">
                            <div className="text-sm text-gray-500 mb-1">Average balance</div>
                            <div className="text-2xl font-semibold text-gray-900">USDC 985,400.00</div>
                            <div className="text-sm text-emerald-600 mt-2">↑ 8% from last month</div>
                        </div>
                    </div>
                </div>
            </div>
        );

        const SecurityView = () => (
            <div className="space-y-6">
                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <h3 className="text-lg font-semibold text-gray-900 mb-6">Two-Factor Authentication</h3>
                    <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg mb-4">
                        <div>
                            <div className="font-medium mb-1">Authenticator App</div>
                            <div className="text-sm text-gray-500">Use an authenticator app to generate codes</div>
                        </div>
                        <button className="btn btn-deposit">Enable</button>
                    </div>
                    <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                        <div>
                            <div className="font-medium mb-1">SMS Authentication</div>
                            <div className="text-sm text-gray-500">Receive codes via text message</div>
                        </div>
                        <button className="btn btn-deposit" disabled>Enabled</button>
                    </div>
                </div>

                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <h3 className="text-lg font-semibold text-gray-900 mb-6">Recent Activity</h3>
                    <div className="space-y-4">
                        <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div className="flex items-center gap-4">
                                <div className="p-2 bg-gray-100 rounded-full">
                                    <svg className="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                        <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41-1.41L13.69 13H2.05A10 10 0 1 0 12 2z"/>
                                    </svg>
                                </div>
                                <div>
                                    <div className="font-medium">Login from new device</div>
                                    <div className="text-sm text-gray-500">MacBook Pro - San Francisco, CA</div>
                                </div>
                            </div>
                            <div className="text-sm text-gray-500">2 hours ago</div>
                        </div>
                        <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div className="flex items-center gap-4">
                                <div className="p-2 bg-gray-100 rounded-full">
                                    <svg className="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                                    </svg>
                                </div>
                                <div>
                                    <div className="font-medium">Password changed</div>
                                    <div className="text-sm text-gray-500">Security update</div>
                                </div>
                            </div>
                            <div className="text-sm text-gray-500">1 day ago</div>
                        </div>
                    </div>
                </div>

                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <h3 className="text-lg font-semibold text-gray-900 mb-6">Device Management</h3>
                    <div className="space-y-4">
                        <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div>
                                <div className="font-medium">MacBook Pro - Chrome</div>
                                <div className="text-sm text-gray-500">Last active: Now</div>
                            </div>
                            <button className="text-sm text-red-600 hover:text-red-700">Remove</button>
                        </div>
                        <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div>
                                <div className="font-medium">iPhone 14 Pro - Safari</div>
                                <div className="text-sm text-gray-500">Last active: 2 hours ago</div>
                            </div>
                            <button className="text-sm text-red-600 hover:text-red-700">Remove</button>
                        </div>
                    </div>
                </div>
            </div>
        );

        const SettingsView = () => (
            <div className="space-y-6">
                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <h3 className="text-lg font-semibold text-gray-900 mb-6">Account Preferences</h3>
                    <div className="space-y-6">
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Default Currency</label>
                            <select className="w-full px-3 py-2 border border-gray-200 rounded-lg">
                                <option>USD - US Dollar</option>
                                <option>EUR - Euro</option>
                                <option>GBP - British Pound</option>
                            </select>
                        </div>
                        <div>
                            <label className="block text-sm font-medium text-gray-700 mb-2">Time Zone</label>
                            <select className="w-full px-3 py-2 border border-gray-200 rounded-lg">
                                <option>Pacific Time (PT)</option>
                                <option>Eastern Time (ET)</option>
                                <option>Central European Time (CET)</option>
                            </select>
                        </div>
                        <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div>
                                <div className="font-medium mb-1">Email Notifications</div>
                                <div className="text-sm text-gray-500">Receive updates about your account</div>
                            </div>
                            <div className="relative inline-block w-12 h-6 rounded-full bg-emerald-500">
                                <div className="absolute left-1 top-1 w-4 h-4 rounded-full bg-white transition-transform transform translate-x-6"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <h3 className="text-lg font-semibold text-gray-900 mb-6">Payment Methods</h3>
                    <div className="space-y-4">
                        <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                            <div className="flex items-center gap-4">
                                <div className="p-2 bg-gray-100 rounded-lg">
                                    <svg className="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                        <rect x="2" y="5" width="20" height="14" rx="2"/>
                                        <path d="M2 10h20"/>
                                    </svg>
                                </div>
                                <div>
                                    <div className="font-medium">•••• 4242</div>
                                    <div className="text-sm text-gray-500">Expires 12/25</div>
                                </div>
                            </div>
                            <button className="text-sm text-red-600 hover:text-red-700">Remove</button>
                        </div>
                        <button className="btn btn-deposit w-full">Add Payment Method</button>
                    </div>
                </div>

                <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                    <h3 className="text-lg font-semibold text-gray-900 mb-6">API Access</h3>
                    <div className="space-y-4">
                        <div className="p-4 border border-gray-200 rounded-lg">
                            <div className="flex items-center justify-between mb-4">
                                <div>
                                    <div className="font-medium mb-1">API Key</div>
                                    <div className="text-sm text-gray-500">Use this key to access our API</div>
                                </div>
                                <button className="btn btn-deposit">Generate New Key</button>
                            </div>
                            <div className="bg-gray-50 p-3 rounded-lg font-mono text-sm">
                                sk_live_•••••••••••••••••••••••••••••
                            </div>
                        </div>
                        <a href="#" className="text-primary hover:underline text-sm">View API Documentation →</a>
                    </div>
                </div>
            </div>
        );

        const CreateInvoiceModal = ({ onClose, onSubmit }) => {
            const [formData, setFormData] = React.useState({
                clientName: '',
                clientEmail: '',
                amount: '',
                dueDate: '',
                description: '',
                items: [{ description: '', quantity: 1, price: 0 }]
            });

            const addItem = () => {
                setFormData({
                    ...formData,
                    items: [...formData.items, { description: '', quantity: 1, price: 0 }]
                });
            };

            const updateItem = (index, field, value) => {
                const newItems = [...formData.items];
                newItems[index][field] = value;
                setFormData({
                    ...formData,
                    items: newItems
                });
            };

            const removeItem = (index) => {
                setFormData({
                    ...formData,
                    items: formData.items.filter((_, i) => i !== index)
                });
            };

            const handleSubmit = (e) => {
                e.preventDefault();
                onSubmit(formData);
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e => e.stopPropagation()}>
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-semibold text-gray-900">Create New Invoice</h2>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>

                        <form onSubmit={handleSubmit} className="space-y-6">
                            <div className="grid grid-cols-2 gap-4">
                                <div className="form-group">
                                    <label className="form-label">Client Name</label>
                                    <input
                                        type="text"
                                        className="form-input"
                                        value={formData.clientName}
                                        onChange={e => setFormData({...formData, clientName: e.target.value})}
                                        required
                                    />
                                </div>
                                <div className="form-group">
                                    <label className="form-label">Client Email</label>
                                    <input
                                        type="email"
                                        className="form-input"
                                        value={formData.clientEmail}
                                        onChange={e => setFormData({...formData, clientEmail: e.target.value})}
                                        required
                                    />
                                </div>
                            </div>

                            <div className="space-y-4">
                                <div className="flex justify-between items-center">
                                    <h3 className="text-lg font-medium">Invoice Items</h3>
                                    <button
                                        type="button"
                                        onClick={addItem}
                                        className="btn btn-deposit"
                                    >
                                        Add Item
                                    </button>
                                </div>
                                
                                {formData.items.map((item, index) => (
                                    <div key={index} className="grid grid-cols-12 gap-4 items-start">
                                        <div className="col-span-6">
                                            <label className="form-label">Description</label>
                                            <input
                                                type="text"
                                                className="form-input"
                                                value={item.description}
                                                onChange={e => updateItem(index, 'description', e.target.value)}
                                                required
                                            />
                                        </div>
                                        <div className="col-span-2">
                                            <label className="form-label">Quantity</label>
                                            <input
                                                type="number"
                                                className="form-input"
                                                value={item.quantity}
                                                onChange={e => updateItem(index, 'quantity', parseInt(e.target.value))}
                                                min="1"
                                                required
                                            />
                                        </div>
                                        <div className="col-span-3">
                                            <label className="form-label">Price</label>
                                            <input
                                                type="number"
                                                className="form-input"
                                                value={item.price}
                                                onChange={e => updateItem(index, 'price', parseFloat(e.target.value))}
                                                min="0"
                                                step="0.01"
                                                required
                                            />
                                        </div>
                                        <div className="col-span-1 pt-6">
                                            {index > 0 && (
                                                <button
                                                    type="button"
                                                    onClick={() => removeItem(index)}
                                                    className="text-red-600 hover:text-red-700"
                                                >
                                                    <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                                    </svg>
                                                </button>
                                            )}
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div className="form-group">
                                    <label className="form-label">Due Date</label>
                                    <input
                                        type="date"
                                        className="form-input"
                                        value={formData.dueDate}
                                        onChange={e => setFormData({...formData, dueDate: e.target.value})}
                                        required
                                    />
                                </div>
                                <div className="form-group">
                                    <label className="form-label">Total Amount</label>
                                    <div className="form-input bg-gray-50">
                                        USDC {formData.items.reduce((sum, item) => sum + (item.quantity * item.price), 0).toFixed(2)}
                                    </div>
                                </div>
                            </div>

                            <div className="form-group">
                                <label className="form-label">Additional Notes</label>
                                <textarea
                                    className="form-textarea"
                                    value={formData.description}
                                    onChange={e => setFormData({...formData, description: e.target.value})}
                                />
                            </div>

                            <div className="flex justify-end gap-3">
                                <button type="button" onClick={onClose} className="btn btn-deposit">
                                    Cancel
                                </button>
                                <button type="submit" className="btn btn-withdraw">
                                    Create Invoice
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        };

        const PayBillsModal = ({ onClose, onSubmit }) => {
            const [isDragging, setIsDragging] = React.useState(false);
            const [file, setFile] = React.useState(null);
            const [isProcessing, setIsProcessing] = React.useState(false);
            const [extractedData, setExtractedData] = React.useState(null);

            const handleDragOver = (e) => {
                e.preventDefault();
                setIsDragging(true);
            };

            const handleDragLeave = () => {
                setIsDragging(false);
            };

            const handleDrop = (e) => {
                e.preventDefault();
                setIsDragging(false);
                const droppedFile = e.dataTransfer.files[0];
                if (droppedFile?.type === 'application/pdf') {
                    processFile(droppedFile);
                }
            };

            const handleFileSelect = (e) => {
                const selectedFile = e.target.files[0];
                if (selectedFile?.type === 'application/pdf') {
                    processFile(selectedFile);
                }
            };

            const processFile = async (file) => {
                setFile(file);
                setIsProcessing(true);
                
                // Simulate OCR processing
                setTimeout(() => {
                    setIsProcessing(false);
                    setExtractedData({
                        invoiceNumber: 'INV-2024-003',
                        amount: 'USDC 2,500.00',
                        dueDate: '2024-04-15',
                        vendor: 'Tech Solutions Ltd',
                        items: [
                            { description: 'Consulting Services', amount: 'USDC 2,000.00' },
                            { description: 'Software License', amount: 'USDC 500.00' }
                        ]
                    });
                }, 2000);
            };

            const handleConfirm = () => {
                onSubmit({
                    ...extractedData,
                    type: 'bill',
                    status: 'pending_payment'
                });
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal" onClick={e => e.stopPropagation()}>
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-semibold text-gray-900">Pay Bills</h2>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>

                        {!extractedData && (
                            <div
                                className={`file-drop-zone ${isDragging ? 'dragging' : ''}`}
                                onDragOver={handleDragOver}
                                onDragLeave={handleDragLeave}
                                onDrop={handleDrop}
                            >
                                <input
                                    type="file"
                                    accept=".pdf"
                                    onChange={handleFileSelect}
                                    className="hidden"
                                    id="file-upload"
                                />
                                <label htmlFor="file-upload" className="cursor-pointer">
                                    <div className="text-gray-500">
                                        <svg className="mx-auto h-12 w-12 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                        </svg>
                                        <p className="text-lg font-medium mb-2">Drop your invoice here</p>
                                        <p className="text-sm">or click to select PDF file</p>
                                    </div>
                                </label>
                            </div>
                        )}

                        {isProcessing && (
                            <div className="text-center py-12">
                                <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
                                <p className="text-gray-600">Processing invoice...</p>
                            </div>
                        )}

                        {extractedData && (
                            <div className="space-y-6">
                                <div className="bg-green-50 text-green-700 p-4 rounded-lg">
                                    <div className="flex items-center gap-2 mb-2">
                                        <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M5 13l4 4L19 7" />
                                        </svg>
                                        <span className="font-medium">Successfully extracted bill data</span>
                                    </div>
                                </div>

                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="form-label">Invoice Number</label>
                                            <div className="form-input bg-gray-50">{extractedData.invoiceNumber}</div>
                                        </div>
                                        <div>
                                            <label className="form-label">Amount</label>
                                            <div className="form-input bg-gray-50">{extractedData.amount}</div>
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="form-label">Due Date</label>
                                            <div className="form-input bg-gray-50">{extractedData.dueDate}</div>
                                        </div>
                                        <div>
                                            <label className="form-label">Vendor</label>
                                            <div className="form-input bg-gray-50">{extractedData.vendor}</div>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="form-label">Items</label>
                                        <div className="border border-gray-200 rounded-lg divide-y">
                                            {extractedData.items.map((item, index) => (
                                                <div key={index} className="p-3 flex justify-between">
                                                    <span>{item.description}</span>
                                                    <span className="font-medium">{item.amount}</span>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                </div>

                                <div className="flex justify-end gap-3">
                                    <button onClick={onClose} className="btn btn-deposit">
                                        Cancel
                                    </button>
                                    <button onClick={handleConfirm} className="btn btn-withdraw">
                                        Schedule Payment
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const AccountDetailsModal = ({ onClose }) => (
            <div className="account-details-modal" onClick={onClose}>
                <div className="account-details-content" onClick={e => e.stopPropagation()}>
                    <div className="flex justify-between items-center mb-6">
                        <h2 className="text-xl font-semibold text-gray-900">Account Details for Deposit</h2>
                        <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>

                    <div className="space-y-6">
                        <div className="detail-group">
                            <div className="detail-label">Routing number</div>
                            <div className="detail-value">992187472</div>
                        </div>

                        <div className="detail-group">
                            <div className="detail-label">Account number</div>
                            <div className="detail-value">•••••••• 2210</div>
                        </div>

                        <div className="detail-group">
                            <div className="detail-label">Bank details</div>
                            <div className="detail-value">Lead Bank</div>
                            <div className="bank-address">
                                <p>1801 Main St</p>
                                <p>Kansas City, MO</p>
                                <p>64108</p>
                            </div>
                        </div>

                        <div className="mt-8 pt-6 border-t border-gray-200">
                            <p className="text-sm text-gray-600">
                                Use these details to set up a direct deposit or wire transfer to your account.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        );

        const PlaidLinkModal = ({ onClose }) => {
            const [step, setStep] = React.useState('intro'); // intro, connecting, success

            const handleStartPlaid = () => {
                setStep('connecting');
                // Simulate Plaid connection process
                setTimeout(() => {
                    setStep('success');
                }, 2000);
            };

            return (
                <div className="modal-overlay" onClick={onClose}>
                    <div className="modal max-w-md" onClick={e => e.stopPropagation()}>
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-xl font-semibold text-gray-900">Connect Your Bank</h2>
                            <button onClick={onClose} className="text-gray-500 hover:text-gray-700">
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>

                        {step === 'intro' && (
                            <div className="text-center">
                                <div className="mb-6">
                                    <div className="w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <svg className="w-8 h-8 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                            <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4" />
                                            <path d="M3 5v14a2 2 0 0 0 2 2h16v-5" />
                                            <path d="M18 12a2 2 0 0 0 0 4h4v-4Z" />
                                        </svg>
                                    </div>
                                    <h3 className="text-lg font-medium text-gray-900 mb-2">Connect your bank account</h3>
                                    <p className="text-gray-600 mb-6">
                                        To withdraw funds, you'll need to connect your external bank account. This process is secure and encrypted via Plaid.
                                    </p>
                                </div>
                                <button 
                                    className="btn btn-withdraw w-full"
                                    onClick={handleStartPlaid}
                                >
                                    Connect Bank Account
                                </button>
                                <p className="text-sm text-gray-500 mt-4">
                                    By connecting your account, you agree to our terms and conditions.
                                </p>
                            </div>
                        )}

                        {step === 'connecting' && (
                            <div className="text-center py-8">
                                <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"></div>
                                <p className="text-gray-600">Connecting to your bank...</p>
                            </div>
                        )}

                        {step === 'success' && (
                            <div className="text-center">
                                <div className="mb-6">
                                    <div className="w-16 h-16 bg-emerald-50 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <svg className="w-8 h-8 text-emerald-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                            <path d="M20 6L9 17l-5-5" />
                                        </svg>
                                    </div>
                                    <h3 className="text-lg font-medium text-gray-900 mb-2">Bank account connected!</h3>
                                    <p className="text-gray-600 mb-6">
                                        Your bank account has been successfully connected. You can now withdraw funds.
                                    </p>
                                </div>
                                <button 
                                    className="btn btn-withdraw w-full"
                                    onClick={onClose}
                                >
                                    Start Withdrawal
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const InvoiceHub = () => {
            const [showCreateModal, setShowCreateModal] = React.useState(false);
            const [showPayBillsModal, setShowPayBillsModal] = React.useState(false);
            const [transactions, setTransactions] = React.useState([
                {
                    id: 'INV-2024-001',
                    client: 'Acme Corp',
                    amount: 5000.00,
                    dueDate: '2024-03-30',
                    status: 'pending_payment',
                    type: 'invoice'
                },
                {
                    id: 'BILL-2024-001',
                    client: 'TechStart Inc',
                    amount: 3500.00,
                    dueDate: '2024-03-25',
                    status: 'paid',
                    type: 'bill'
                }
            ]);
            const [filterStatus, setFilterStatus] = React.useState('all');
            const [filterType, setFilterType] = React.useState('all');

            const handleCreateInvoice = (formData) => {
                const newInvoice = {
                    id: `INV-2024-${String(transactions.filter(t => t.type === 'invoice').length + 1).padStart(3, '0')}`,
                    client: formData.clientName,
                    amount: formData.items.reduce((sum, item) => sum + (item.quantity * item.price), 0),
                    dueDate: formData.dueDate,
                    status: 'pending_payment',
                    type: 'invoice'
                };
                setTransactions([newInvoice, ...transactions]);
                setShowCreateModal(false);
            };

            const handlePayBill = (extractedData) => {
                const newBill = {
                    id: `BILL-2024-${String(transactions.filter(t => t.type === 'bill').length + 1).padStart(3, '0')}`,
                    client: extractedData.vendor,
                    amount: parseFloat(extractedData.amount.replace('USDC', '').replace(',', '')),
                    dueDate: extractedData.dueDate,
                    status: 'pending_payment',
                    type: 'bill'
                };
                setTransactions([newBill, ...transactions]);
                setShowPayBillsModal(false);
            };

            const handlePayment = (transactionId) => {
                setTransactions(transactions.map(transaction => 
                    transaction.id === transactionId 
                        ? { ...transaction, status: 'paid' }
                        : transaction
                ));
            };

            const filteredTransactions = transactions.filter(transaction => {
                if (filterStatus !== 'all' && transaction.status !== filterStatus) return false;
                if (filterType !== 'all' && transaction.type !== filterType) return false;
                return true;
            });

            // Calculate analytics
            const analytics = {
                receivables: filteredTransactions
                    .filter(t => t.type === 'invoice' && t.status === 'pending_payment')
                    .reduce((sum, t) => sum + t.amount, 0),
                payables: filteredTransactions
                    .filter(t => t.type === 'bill' && t.status === 'pending_payment')
                    .reduce((sum, t) => sum + t.amount, 0),
                paidThisMonth: filteredTransactions
                    .filter(t => t.status === 'paid')
                    .reduce((sum, t) => sum + t.amount, 0),
                pendingCount: {
                    invoices: filteredTransactions.filter(t => t.type === 'invoice' && t.status === 'pending_payment').length,
                    bills: filteredTransactions.filter(t => t.type === 'bill' && t.status === 'pending_payment').length
                }
            };

            return (
                <div className="space-y-6">
                    <div className="flex items-center justify-between mb-6">
                        <h2 className="text-2xl font-semibold text-gray-900">Invoice & Bill Management</h2>
                        <div className="flex gap-3">
                            <button 
                                className="btn btn-deposit"
                                onClick={() => setShowCreateModal(true)}
                            >
                                <svg className="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <path d="M12 5v14M5 12h14"/>
                                </svg>
                                Send Invoice
                            </button>
                            <button 
                                className="btn btn-deposit"
                                onClick={() => setShowPayBillsModal(true)}
                            >
                                <svg className="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="7 10 12 15 17 10"/>
                                    <line x1="12" y1="15" x2="12" y2="3"/>
                                </svg>
                                Pay Bills
                            </button>
                        </div>
                    </div>

                    <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                        <div className="flex items-center justify-between mb-6">
                            <h3 className="text-lg font-semibold text-gray-900">Recent Transactions</h3>
                            <div className="flex gap-2">
                                <select 
                                    className="px-3 py-2 border border-gray-200 rounded-lg text-sm"
                                    value={filterType}
                                    onChange={(e) => setFilterType(e.target.value)}
                                >
                                    <option value="all">All Types</option>
                                    <option value="invoice">Invoices</option>
                                    <option value="bill">Bills</option>
                                </select>
                                <select 
                                    className="px-3 py-2 border border-gray-200 rounded-lg text-sm"
                                    value={filterStatus}
                                    onChange={(e) => setFilterStatus(e.target.value)}
                                >
                                    <option value="all">All Status</option>
                                    <option value="paid">Paid</option>
                                    <option value="pending_payment">Pending</option>
                                </select>
                            </div>
                        </div>
                        <div className="overflow-x-auto">
                            <table className="transactions-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Type</th>
                                        <th>Client/Vendor</th>
                                        <th>Amount</th>
                                        <th>Due Date</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {filteredTransactions.map(transaction => (
                                        <tr key={transaction.id}>
                                            <td>{transaction.id}</td>
                                            <td>
                                                <span className={`px-2 py-1 rounded-full text-xs ${
                                                    transaction.type === 'invoice'
                                                        ? 'bg-blue-50 text-blue-700'
                                                        : 'bg-purple-50 text-purple-700'
                                                }`}>
                                                    {transaction.type === 'invoice' ? 'Invoice' : 'Bill'}
                                                </span>
                                            </td>
                                            <td>{transaction.client}</td>
                                            <td>USDC {transaction.amount.toFixed(2)}</td>
                                            <td>{new Date(transaction.dueDate).toLocaleDateString('en-US', { 
                                                month: 'short',
                                                day: 'numeric',
                                                year: 'numeric'
                                            })}</td>
                                            <td>
                                                <span className={`px-2 py-1 rounded-full text-xs ${
                                                    transaction.status === 'paid' 
                                                        ? 'bg-emerald-50 text-emerald-700'
                                                        : 'bg-yellow-50 text-yellow-700'
                                                }`}>
                                                    {transaction.status === 'paid' ? 'Paid' : 'Pending'}
                                                </span>
                                            </td>
                                            <td>
                                                <div className="flex gap-2">
                                                    <button className="text-blue-600 hover:text-blue-700">View</button>
                                                    {transaction.status === 'pending_payment' && (
                                                        <button 
                                                            className="text-blue-600 hover:text-blue-700"
                                                            onClick={() => handlePayment(transaction.id)}
                                                        >
                                                            {transaction.type === 'invoice' ? 'Mark as Paid' : 'Pay'}
                                                        </button>
                                                    )}
                                                </div>
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                        <h3 className="text-lg font-semibold text-gray-900 mb-4">Financial Overview</h3>
                        <div className="grid grid-cols-4 gap-6">
                            <div className="p-4 border border-gray-200 rounded-lg">
                                <div className="text-sm text-gray-500 mb-1">Accounts Receivable</div>
                                <div className="text-2xl font-semibold text-gray-900">USDC {analytics.receivables.toFixed(2)}</div>
                                <div className="text-sm text-yellow-600 mt-2">{analytics.pendingCount.invoices} invoices pending</div>
                            </div>
                            <div className="p-4 border border-gray-200 rounded-lg">
                                <div className="text-sm text-gray-500 mb-1">Accounts Payable</div>
                                <div className="text-2xl font-semibold text-gray-900">USDC {analytics.payables.toFixed(2)}</div>
                                <div className="text-sm text-yellow-600 mt-2">{analytics.pendingCount.bills} bills to pay</div>
                            </div>
                            <div className="p-4 border border-gray-200 rounded-lg">
                                <div className="text-sm text-gray-500 mb-1">Paid this month</div>
                                <div className="text-2xl font-semibold text-gray-900">USDC {analytics.paidThisMonth.toFixed(2)}</div>
                                <div className="text-sm text-emerald-600 mt-2">↑ 15% from last month</div>
                            </div>
                            <div className="p-4 border border-gray-200 rounded-lg">
                                <div className="text-sm text-gray-500 mb-1">Cash Flow</div>
                                <div className="text-2xl font-semibold text-gray-900">
                                    USDC {(analytics.receivables - analytics.payables).toFixed(2)}
                                </div>
                                <div className="text-sm text-emerald-600 mt-2">Expected balance after all transactions</div>
                            </div>
                        </div>
                    </div>

                    {showCreateModal && (
                        <CreateInvoiceModal 
                            onClose={() => setShowCreateModal(false)}
                            onSubmit={handleCreateInvoice}
                        />
                    )}
                    {showPayBillsModal && (
                        <PayBillsModal 
                            onClose={() => setShowPayBillsModal(false)}
                            onSubmit={handlePayBill}
                        />
                    )}
                </div>
            );
        };

        const IntegrationsView = () => {
            const [integrations, setIntegrations] = React.useState({
                quickbooks: false,
                netsuite: false,
                xero: false,
                sage: false
            });

            const handleToggle = (integration) => {
                setIntegrations(prev => ({
                    ...prev,
                    [integration]: !prev[integration]
                }));
            };

            return (
                <div className="space-y-6">
                    <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                        <h3 className="text-lg font-semibold text-gray-900 mb-6">Accounting Integrations</h3>
                        <div className="space-y-4">
                            <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div className="flex items-center gap-4">
                                    <div className="p-2 bg-blue-50 rounded-lg">
                                        <svg className="w-6 h-6 text-blue-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div className="font-medium">QuickBooks</div>
                                        <div className="text-sm text-gray-500">Sync transactions and invoices</div>
                                    </div>
                                </div>
                                <div 
                                    className={`relative inline-block w-12 h-6 rounded-full transition-colors cursor-pointer ${
                                        integrations.quickbooks ? 'bg-emerald-500' : 'bg-gray-200'
                                    }`}
                                    onClick={() => handleToggle('quickbooks')}
                                >
                                    <div className={`absolute left-1 top-1 w-4 h-4 rounded-full bg-white transition-transform ${
                                        integrations.quickbooks ? 'transform translate-x-6' : ''
                                    }`}></div>
                                </div>
                            </div>

                            <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div className="flex items-center gap-4">
                                    <div className="p-2 bg-indigo-50 rounded-lg">
                                        <svg className="w-6 h-6 text-indigo-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                            <path d="M20 7h-9M14 17H5M20 12H5"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div className="font-medium">NetSuite</div>
                                        <div className="text-sm text-gray-500">Enterprise resource planning integration</div>
                                    </div>
                                </div>
                                <div 
                                    className={`relative inline-block w-12 h-6 rounded-full transition-colors cursor-pointer ${
                                        integrations.netsuite ? 'bg-emerald-500' : 'bg-gray-200'
                                    }`}
                                    onClick={() => handleToggle('netsuite')}
                                >
                                    <div className={`absolute left-1 top-1 w-4 h-4 rounded-full bg-white transition-transform ${
                                        integrations.netsuite ? 'transform translate-x-6' : ''
                                    }`}></div>
                                </div>
                            </div>

                            <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div className="flex items-center gap-4">
                                    <div className="p-2 bg-cyan-50 rounded-lg">
                                        <svg className="w-6 h-6 text-cyan-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                            <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/>
                                            <line x1="4" y1="22" x2="4" y2="15"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div className="font-medium">Xero</div>
                                        <div className="text-sm text-gray-500">Cloud-based accounting software integration</div>
                                    </div>
                                </div>
                                <div 
                                    className={`relative inline-block w-12 h-6 rounded-full transition-colors cursor-pointer ${
                                        integrations.xero ? 'bg-emerald-500' : 'bg-gray-200'
                                    }`}
                                    onClick={() => handleToggle('xero')}
                                >
                                    <div className={`absolute left-1 top-1 w-4 h-4 rounded-full bg-white transition-transform ${
                                        integrations.xero ? 'transform translate-x-6' : ''
                                    }`}></div>
                                </div>
                            </div>

                            <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div className="flex items-center gap-4">
                                    <div className="p-2 bg-emerald-50 rounded-lg">
                                        <svg className="w-6 h-6 text-emerald-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                            <path d="M12 3v18M3 12h18"/>
                                        </svg>
                                    </div>
                                    <div>
                                        <div className="font-medium">Sage</div>
                                        <div className="text-sm text-gray-500">Business management software integration</div>
                                    </div>
                                </div>
                                <div 
                                    className={`relative inline-block w-12 h-6 rounded-full transition-colors cursor-pointer ${
                                        integrations.sage ? 'bg-emerald-500' : 'bg-gray-200'
                                    }`}
                                    onClick={() => handleToggle('sage')}
                                >
                                    <div className={`absolute left-1 top-1 w-4 h-4 rounded-full bg-white transition-transform ${
                                        integrations.sage ? 'transform translate-x-6' : ''
                                    }`}></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div className="bg-white rounded-xl p-6 border border-gray-200 shadow-sm">
                        <h3 className="text-lg font-semibold text-gray-900 mb-4">Integration Settings</h3>
                        <p className="text-gray-600 mb-4">Configure how Fluida syncs with your accounting software</p>
                        <div className="space-y-4">
                            <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div>
                                    <div className="font-medium mb-1">Auto-sync frequency</div>
                                    <div className="text-sm text-gray-500">How often should we sync your data</div>
                                </div>
                                <select className="px-3 py-2 border border-gray-200 rounded-lg text-sm">
                                    <option>Real-time</option>
                                    <option>Every hour</option>
                                    <option>Every day</option>
                                    <option>Weekly</option>
                                </select>
                            </div>
                            <div className="flex items-center justify-between p-4 border border-gray-200 rounded-lg">
                                <div>
                                    <div className="font-medium mb-1">Sync historical data</div>
                                    <div className="text-sm text-gray-500">Import past transactions and records</div>
                                </div>
                                <select className="px-3 py-2 border border-gray-200 rounded-lg text-sm">
                                    <option>Last 3 months</option>
                                    <option>Last 6 months</option>
                                    <option>Last year</option>
                                    <option>All time</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Dashboard = () => {
            const [activeTab, setActiveTab] = React.useState('overview');
            const [showAccountDetails, setShowAccountDetails] = React.useState(false);
            const [showPlaidModal, setShowPlaidModal] = React.useState(false);

            const renderContent = () => {
                switch (activeTab) {
                    case 'invoice_management':
                        return <InvoiceHub />;
                    case 'activity':
                        return <ActivityView />;
                    case 'security':
                        return <SecurityView />;
                    case 'settings':
                        return <SettingsView />;
                    case 'integrations':
                        return <IntegrationsView />;
                    default:
                        return (
                            <>
                                <div className="mb-8">
                                    <h1 className="text-3xl font-bold text-gray-900 mb-2">Welcome back, Matteo</h1>
                                    <p className="text-gray-600">Here's an overview of your business finances</p>
                                </div>

                                <div className="balance-card">
                                    <div className="balance-label">My balance</div>
                                    <div className="balance-amount">USDC 1,022,300.00</div>
                                    <div className="earning-badge">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="icon mr-1">
                                            <path d="M12 2v20"/>
                                            <path d="m19 15-7 7-7-7"/>
                                        </svg>
                                        EARNING 8% APY
                                    </div>
                                    <div className="pending-amount">On the way USDC 0.00</div>
                                    <div className="text-gray-500 mt-4 italic">
                                        All assets backed by US Treasuries
                                    </div>
                                </div>

                                <div className="transactions">
                                    <div className="transactions-header">
                                        <h3 className="text-lg font-semibold text-gray-900">Recent transactions</h3>
                                        <a href="#" className="text-primary hover:underline text-sm font-medium">View all</a>
                                    </div>
                                    <div className="overflow-x-auto">
                                        <table className="transactions-table">
                                            <thead>
                                                <tr>
                                                    <th>Date</th>
                                                    <th>To/from</th>
                                                    <th>Amount info</th>
                                                    <th>Type</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Feb 29</td>
                                                    <td>Dakota Checking 9522</td>
                                                    <td className="amount-positive">USDC 3,200.00</td>
                                                    <td>
                                                        <div className="inline-flex items-center">
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="icon mr-2 text-emerald-600">
                                                                <path d="M12 5v14"/>
                                                                <path d="m19 12-7 7-7-7"/>
                                                            </svg>
                                                            Transfer in
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </>
                        );
                }
            };

            return (
                <div className="dashboard">
                    <div className="top-bar">
                        <div className="flex items-center gap-4">
                            <span className="text-xl font-semibold text-gray-900">Fluida</span>
                        </div>
                        <div className="action-buttons">
                            <button 
                                className="btn btn-deposit"
                                onClick={() => setShowAccountDetails(true)}
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="icon">
                                    <path d="M12 5v14"/>
                                    <path d="m19 12-7 7-7-7"/>
                                </svg>
                                Deposit
                            </button>
                            <button 
                                className="btn btn-withdraw"
                                onClick={() => setShowPlaidModal(true)}
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="icon">
                                    <path d="M12 19V5"/>
                                    <path d="m5 12 7-7 7 7"/>
                                </svg>
                                Withdraw
                            </button>
                        </div>
                    </div>

                    <div className="tabs">
                        <div 
                            className={`tab ${activeTab === 'overview' ? 'active' : ''}`}
                            onClick={() => setActiveTab('overview')}
                        >
                            OVERVIEW
                        </div>
                        <div 
                            className={`tab ${activeTab === 'invoice_management' ? 'active' : ''}`}
                            onClick={() => setActiveTab('invoice_management')}
                        >
                            INVOICE MANAGEMENT
                        </div>
                        <div 
                            className={`tab ${activeTab === 'activity' ? 'active' : ''}`}
                            onClick={() => setActiveTab('activity')}
                        >
                            ACTIVITY
                        </div>
                        <div 
                            className={`tab ${activeTab === 'security' ? 'active' : ''}`}
                            onClick={() => setActiveTab('security')}
                        >
                            SECURITY
                        </div>
                        <div 
                            className={`tab ${activeTab === 'settings' ? 'active' : ''}`}
                            onClick={() => setActiveTab('settings')}
                        >
                            SETTINGS
                        </div>
                        <div 
                            className={`tab ${activeTab === 'integrations' ? 'active' : ''}`}
                            onClick={() => setActiveTab('integrations')}
                        >
                            INTEGRATIONS
                        </div>
                    </div>

                    <div className="main-content">
                        {renderContent()}
                    </div>

                    {showAccountDetails && (
                        <AccountDetailsModal onClose={() => setShowAccountDetails(false)} />
                    )}
                    {showPlaidModal && (
                        <PlaidLinkModal onClose={() => setShowPlaidModal(false)} />
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Dashboard />);
    </script>
</body>
</html> 